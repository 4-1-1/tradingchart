function inherit(f,d){var a=function(){};a.prototype=d.prototype;f.prototype=new a;f.prototype.constructor=f;f.prototype.superclass=d}
(function(){function f(a){"hideSymbolSearch enabledStudies enabledDrawings disabledDrawings disabledStudies disableLogo hideSideToolbar".split(" ").map(function(b){a[b]&&console.warn("Feature `"+b+"` is obsolete. Please see the doc for details.")})}if(!window.TradingView){var d={version:function(){return"1.1 dev"},gEl:function(a){return document.getElementById(a)},gId:function(){return"tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1)},onready:function(a){window.addEventListener?
window.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)},css:function(a){var b=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=a:(a=document.createTextNode(a),e.appendChild(a));b.appendChild(e)},bindEvent:function(a,b,e){a.addEventListener?a.addEventListener(b,e,!1):a.attachEvent&&a.attachEvent("on"+b,e)},unbindEvent:function(a,b,e){a.removeEventListener?a.removeEventListener(b,e,!1):a.detachEvent&&
a.detachEvent("on"+b,e)},widget:function(a){this.id=d.gId();if(!a.datafeed)throw"Datafeed is not defined";a={width:a.width,height:a.height,symbol:a.symbol,interval:a.interval,timezone:a.timezone,container:a.container_id,path:a.library_path,locale:a.locale,toolbar_bg:a.toolbar_bg,hideSymbolSearch:a.hide_symbol_search||a.hideSymbolSearch,hideSideToolbar:a.hide_side_toolbar,enabledStudies:a.enabled_studies,disabledStudies:a.disabled_studies,enabledDrawings:a.enabled_drawings,disabledDrawings:a.disabled_drawings,
drawingsAccess:a.drawings_access,studiesAccess:a.studies_access,widgetbar:a.widgetbar,overrides:a.overrides,savedData:a.saved_data||a.savedData,snapshotUrl:a.snapshot_url,uid:this.id,datafeed:a.datafeed,disableLogo:a.disable_logo||a.disableLogo,fullscreen:a.fullscreen,disabled_features:a.disabled_features};f(a);this.options=$.extend(!0,{width:800,height:500,symbol:"AA",interval:"D",timezone:"",container:"",path:"",locale:"en",toolbar_bg:"f4f7f9",hideSymbolSearch:!1,hideSideToolbar:!1,enabledStudies:[],
enabledDrawings:[],disabledDrawings:[],disabledStudies:[],drawingsAccess:void 0,studiesAccess:void 0,widgetbar:{datawindow:!1,details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{},disableLogo:!1,fullscreen:!1,disabled_features:[]},a);this._ready_handlers=[];this.create()}};d.widget.prototype={_messageTarget:function(){return d.gEl(this.id).contentWindow},_autoResizeChart:function(){var a=d.gEl(this.id);this.options.fullscreen&&(a.style.height=window.innerHeight+"px",a.style.width=
window.innerWidth+"px")},create:function(){var a=this.render(),b=this,e;this.options.container?d.gEl(this.options.container).innerHTML=a:document.write(a);this._autoResizeChart();window.addEventListener("resize",function(a){b._autoResizeChart()});e=d.gEl(this.id);this.postMessage=d.postMessageWrapper(e.contentWindow,this.id);d.bindEvent(e,"load",function(){b.postMessage.get("widgetReady",{},function(){var a;b._ready=!0;for(a=b._ready_handlers.length;a--;)b._ready_handlers[a].call(b);b.postMessage.post(e.contentWindow,
"initializationFinished")})})},render:function(){var a="__datafeed_"+this.options.uid;window[a]=this.options.datafeed;a=(this.options.path||"")+"static/tv-chart.html#localserver=1&symbol="+encodeURIComponent(this.options.symbol)+"&interval="+encodeURIComponent(this.options.interval)+"&toolbarbg="+this.options.toolbar_bg.replace("#","")+"&hideSymbolSearch="+this.options.hideSymbolSearch+"&hideSideToolbar="+this.options.hideSideToolbar+"&enabledStudies="+encodeURIComponent(JSON.stringify(this.options.enabledStudies))+
"&disabledStudies="+encodeURIComponent(JSON.stringify(this.options.disabledStudies))+(this.options.studiesAccess?"&studiesAccess="+encodeURIComponent(JSON.stringify(this.options.studiesAccess)):"")+"&enabledDrawings="+encodeURIComponent(JSON.stringify(this.options.enabledDrawings))+"&disabledDrawings="+encodeURIComponent(JSON.stringify(this.options.disabledDrawings))+"&widgetbar="+encodeURIComponent(JSON.stringify(this.options.widgetbar))+(this.options.drawingsAccess?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this.options.drawingsAccess)):
"")+"&overrides="+encodeURIComponent(JSON.stringify(this.options.overrides))+"&disabled_features="+encodeURIComponent(JSON.stringify(this.options.disabled_features))+"&disableLogo="+encodeURIComponent(this.options.disableLogo)+"&locale="+encodeURIComponent(this.options.locale)+"&datafeedUID="+encodeURIComponent(a)+(this.options.snapshotUrl?"&snapshotUrl="+encodeURIComponent(this.options.snapshotUrl):"")+(this.options.timezone?"&timezone="+encodeURIComponent(this.options.timezone):"");this.options.savedData&&
(window.__TVSavedChart=this.options.savedData);return'<iframe id="'+this.id+'" src="'+a+'"'+(this.options.fullscreen?"":' width="'+this.options.width+'" height="'+this.options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no"></iframe>'},onChartReady:function(a){this._ready?a.call(this):this._ready_handlers.push(a)},setSymbol:function(a,b,e){this.postMessage.post(this._messageTarget(),"changeSymbol",{symbol:a,interval:b});this.postMessage.on("symbolChangeFinished",e)},createStudy:function(a,
b){this.postMessage.post(this._messageTarget(),"createStudy",{name:a,lock:b})},createShape:function(a,b){this.postMessage.post(this._messageTarget(),"createShape",{point:a,options:b})},createVerticalLine:function(a,b){this.createShape(a,$.extend(b,{shape:"vertical_line"}))},createButton:function(){var a=d.gEl(this.id).contentWindow.headerWidget,a=a.createGroup({single:!0}).appendTo(a._$left);return $('<div class="button"></div>').appendTo(a)},removeIcon:function(a){},symbolInterval:function(a){this.postMessage.on("symbolInterval",
function(b){a(JSON.parse(b))});this.postMessage.post(this._messageTarget(),"symbolIntervalRequest",{})},onSymbolChange:function(a){this.postMessage.on("onSymbolChange",a)},onIntervalChange:function(a){this.postMessage.on("onIntervalChange",a)},onTick:function(a){this.postMessage.on("onTick",a)},remove:function(){var a=d.gEl(this.id);a.parentNode.removeChild(a)},onAutoSaveNeeded:function(a){this.postMessage.on("onAutoSaveNeeded",a)},onMarkClick:function(a){this.postMessage.on("onMarkClick",a)},onContextMenu:function(a){d.gEl(this.id).contentWindow.GlobalEventsStorage.subscribe("onContextMenu",
function(b){b.callback(a(b.unixtime,b.price))})},onGrayedObjectClicked:function(a){d.gEl(this.id).contentWindow.GlobalEventsStorage.subscribe("onGrayedObjectClicked",a)},save:function(a){this.postMessage.on("onChartSaved",a);this.postMessage.post(this._messageTarget(),"saveChart",{})},load:function(a){window.__TVSavedChart=a;this.remove();this.create()},setLanguage:function(a){this.remove();this.options.locale=a;this.create()}};d.postMessageWrapper=function(){var a={},b={},e={},d,f=0,g=0;window.addEventListener&&
window.addEventListener("message",function(e){var c;try{c=JSON.parse(e.data)}catch(l){return}c.provider&&"TradingView"==c.provider&&("get"==c.type?b[c.name].call(c,c.data,function(a){d.postMessage(JSON.stringify({id:c.id,type:"on",name:c.name,client_id:c.client_id,data:a,provider:"TradingView"}),"*")}):"on"==c.type?a[c.client_id]&&a[c.client_id][c.id]&&(a[c.client_id][c.id].call(c,c.data),delete a[c.client_id][c.id]):"post"==c.type&&"function"===typeof b[c.name]&&b[c.name].call(c,c.data,function(){}))});
return function(h,c){a[c]={};d=e[c]=h;return{on:function(a,c){b[a]=c},get:function(b,d,k){b={id:f++,type:"get",name:b,client_id:c,data:d,provider:"TradingView"};a[c][b.id]=k;e[c].postMessage(JSON.stringify(b),"*")},post:function(a,b,c){b={id:g++,type:"post",name:b,data:c,provider:"TradingView"};a&&"function"===typeof a.postMessage&&a.postMessage(JSON.stringify(b),"*")}}}}();window.TradingView&&jQuery?jQuery.extend(window.TradingView,d):window.TradingView=d}})();
